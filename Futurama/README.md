## Slurm notes
Install slurm with command

    sudo apt install slurmd slurmctld
Next, we need to create the `slurm.conf` file which configures how your slurm queue is set up. Here we use a very simple one: (please adjust the COMPUTE NODES section to your machines specs. e.g. if you have10 cores `CPUs=10` and your memory is 32000MB `RealMemory=32000` .

    sudo chmod 777 /etc/slurm-llnl

    sudo cat << EOF > /etc/slurm-llnl/slurm.conf  
    # slurm.conf file generated by configurator.html.  
    # Put this file on all nodes of your cluster.  
    # See the slurm.conf man page for more information.  
    #  
    ClusterName=localcluster  
    SlurmctldHost=localhost  
    MpiDefault=none  
    ProctrackType=proctrack/linuxproc  
    ReturnToService=2  
    SlurmctldPidFile=/var/run/slurmctld.pid  
    SlurmctldPort=6817  
    SlurmdPidFile=/var/run/slurmd.pid  
    SlurmdPort=6818  
    SlurmdSpoolDir=/var/lib/slurm-llnl/slurmd  
    SlurmUser=slurm  
    StateSaveLocation=/var/lib/slurm-llnl/slurmctld  
    SwitchType=switch/none  
    TaskPlugin=task/none  
    #  
    # TIMERS  
    InactiveLimit=0  
    KillWait=30  
    MinJobAge=300  
    SlurmctldTimeout=120  
    SlurmdTimeout=300  
    Waittime=0  
    # SCHEDULING  
    SchedulerType=sched/backfill  
    SelectType=select/cons_tres  
    SelectTypeParameters=CR_Core  
    #  
    #AccountingStoragePort=  
    AccountingStorageType=accounting_storage/none  
    JobCompType=jobcomp/none  
    JobAcctGatherFrequency=30  
    JobAcctGatherType=jobacct_gather/none  
    SlurmctldDebug=info  
    SlurmctldLogFile=/var/log/slurm-llnl/slurmctld.log  
    SlurmdDebug=info  
    SlurmdLogFile=/var/log/slurm-llnl/slurmd.log  
    #  
    # COMPUTE NODES  
    NodeName=localhost CPUs=1 RealMemory=500 State=UNKNOWN  
    PartitionName=LocalQ Nodes=ALL Default=YES MaxTime=INFINITE State=UP  
    EOF
    
    sudo chmod 755 /etc/slurm-llnl/
Now lets gets slurm started with systemd:

    sudo systemctl start slurmctld  
    sudo systemctl start slurmd
Lastly, let's set our machine as idle:

    sudo scontrol update nodename=localhost state=idle  
and now we can start queuing up jobs:

    sinfo  
    PARTITION AVAIL TIMELIMIT NODES STATE NODELIST  
    LocalQ* up infinite 1 idle localhost
Now you have a working slurm queue, if you need to make changes to your config edit the `slurm.conf` and simply restart `slurmctld` and `slurmd` via systemd.